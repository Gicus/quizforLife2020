<div class="container" style="margin-top: 70px;">
  <div *ngIf="isTestIdValid">
    <div *ngIf="!isTestExpired">
      <div *ngIf="!validationIsSent">
        <div>
          <h3 class="text-center">Completeaza testul cu ID-ul {{test?.id}}</h3>
        </div>
        <div class="row">
          <div class="col-sm-8 offset-sm-2">
            <div>
              <form #accesForm="ngForm">
                <div class="form-group" *ngFor="let question of test?.questions">
                  <label [for]="'answer' + question.id">{{question.text}}</label>
                  <select class="form-control" [id]="'answer' + question.id" [name]="'answer' + question.id" required
                          [(ngModel)]="testResponse.answers[question.id]">
                    <ng-container *ngFor="let answer of question.answers">
                      <option *ngIf="answer.value !== ''" [value]="answer.id">{{answer.value}}</option>
                    </ng-container>
                  </select>
                </div>
                <div class="mt-5 text-center">
                  <button class="btn btn-primary" [disabled]="accesForm.invalid" (click)="submitTest()">Trimite
                    raspunsurile
                    la test
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="validationIsSent">
        <div class="text-center">
          <h3> Ai obtinut un punctaj de {{mark.value}} de puncte dintr-un maxim de {{test?.totalValue}} de puncte</h3>
          <button class="btn btn-primary mt-5" (click)="goToRanking()">Vezi clasamentul pe acest test</button>
        </div>
      </div>
    </div>
    <div *ngIf="isTestExpired">
      <div class="text-center">
        <h3>Timpul de rezolvare a testului a expirat!</h3>
        <div class="mt-5">
          <button class="btn btn-primary" (click)="goToRanking()">Vezi clasamentul pe acest test</button>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="!isTestIdValid">
    <div class="text-center">
      <h3>Id-ul introdus este unul invalid si nu poti accesa testul dorit</h3>
      <div class="mt-5">
        <button class="btn btn-primary" (click)="goToAccess()">Acceseaza din nou</button>
      </div>
    </div>
  </div>
